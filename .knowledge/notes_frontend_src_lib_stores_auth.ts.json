{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Svelte store for managing authentication state, including user information, token, loading status, and error messages. It provides functions to initialize the store from localStorage, set or clear sessions, and update loading/error states.", "external_files": ["../services/api"], "external_methods": [], "published": ["auth"], "classes": [], "methods": [{"name": "function createAuthStore() { createAuthStore", "description": "Creates a Svelte store managing authentication state with functions to load, save, and update session data.", "scope": "", "scopeKind": ""}], "calls": ["writable<AuthState>", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "JSON.parse", "JSON.stringify"], "search-terms": ["auth store", "localStorage auth", "Svelte auth state", "auth session management", "typescript store"], "state": 2, "file_id": 14, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthState", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^export interface AuthState {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^export const auth = createAuthStore();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createAuthStore", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^function createAuthStore() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  error: null$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  error: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "AuthState", "scopeKind": "interface"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^const initialState: AuthState = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  loading: boolean;$/", "language": "TypeScript", "kind": "property", "scope": "AuthState", "scopeKind": "interface"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  loading: false,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  const { subscribe, set, update } = writable<AuthState>(initialState);$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}, {"_type": "tag", "name": "subscribe", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  const { subscribe, set, update } = writable<AuthState>(initialState);$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^    const token = localStorage.getItem('auth_token');$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  token: null,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  token: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "AuthState", "scopeKind": "interface"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  const { subscribe, set, update } = writable<AuthState>(initialState);$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^    const user = userStr ? (JSON.parse(userStr) as AuthUser) : null;$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^  user: AuthUser | null;$/", "language": "TypeScript", "kind": "property", "scope": "AuthState", "scopeKind": "interface"}, {"_type": "tag", "name": "userStr", "path": "/home/kavia/workspace/code-generation/note-organizer-163574-163619/notes_frontend/src/lib/stores/auth.ts", "pattern": "/^    const userStr = localStorage.getItem('auth_user');$/", "language": "TypeScript", "kind": "constant", "scope": "createAuthStore", "scopeKind": "function"}], "hash": "aa6405c01858839c76b0afd8f41e0668", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/stores/auth.ts", "fields": [{"name": "export interface AuthState {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "error: string | null;", "scope": "AuthState", "scopeKind": "interface", "description": "unavailable"}, {"name": "loading: boolean;", "scope": "AuthState", "scopeKind": "interface", "description": "unavailable"}, {"name": "token: string | null;", "scope": "AuthState", "scopeKind": "interface", "description": "unavailable"}, {"name": "user: AuthUser | null;", "scope": "AuthState", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"30": ""}]}